{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mrcea/Desktop/Nunua/template/packages/web/pages/account-settings.js\";\nimport Router, { useRouter } from 'next/router';\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid';\nimport Box from 'reusecore/src/elements/Box';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport SecretPage from '../hoc/secretPage';\nimport withLayout from '../hoc/withLayout';\nimport PageMeta from '../components/PageMeta';\nimport { GET_AUTHOR } from 'core/graphql/Author';\nimport Sidebar from '../containers/AccountSetting/Sidebar';\nimport EditProfile from '../containers/AccountSetting/EditProfile';\nimport ChangePassword from '../containers/AccountSetting/ChangePassword';\nimport AddMobileNumber from '../containers/AccountSetting/AddMobileNumber';\nimport { withApollo } from '../helpers/apollo';\nconst AccountSettings = withLayout(({\n  userId\n}) => {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(GET_AUTHOR, {\n    variables: {\n      id: userId\n    }\n  });\n  const {\n    query: {\n      view\n    }\n  } = useRouter();\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 21\n  }, this);\n  const author = data && data.author ? data.author : {};\n  const imageUrl = author && author.image ? author.image.url : '';\n  const imageLargeUrl = author && author.image ? author.image.largeUrl : '';\n\n  const handleTabToggle = newTabState => {\n    const href = `/account-settings?view=${newTabState}`;\n    const as = `/account-settings?view=${newTabState}`;\n    Router.push(href, as, {\n      shallow: true\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageMeta, {\n      title: view === 'edit-profile' && 'Edit Profile' || view === 'change-password' && 'Change Password' || view === 'add-mobile-number' && 'Add mobile number',\n      description: \"Account Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        paddingTop: '80px',\n        paddingBottom: '50px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: 12,\n          mdOffset: 1,\n          md: 10,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 12,\n              sm: 5,\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Sidebar, {\n                onToggleClick: handleTabToggle,\n                image: [imageUrl, imageLargeUrl]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 12,\n              sm: 7,\n              md: 8,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                pl: [20, 95],\n                pr: [20, 95],\n                pb: 32,\n                pt: 32,\n                borderRadius: \"3px\",\n                border: \"1px solid #e2e2e2\",\n                children: [view === 'edit-profile' && /*#__PURE__*/_jsxDEV(EditProfile, {\n                  author: author,\n                  loading: loading,\n                  error: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), view === 'change-password' && /*#__PURE__*/_jsxDEV(ChangePassword, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 50\n                }, this), view === 'add-mobile-number' && /*#__PURE__*/_jsxDEV(AddMobileNumber, {\n                  author: author,\n                  loading: loading,\n                  error: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n});\nexport default withApollo(SecretPage(AccountSettings));","map":{"version":3,"sources":["/Users/mrcea/Desktop/Nunua/template/packages/web/pages/account-settings.js"],"names":["Router","useRouter","Grid","Row","Col","Box","useQuery","Modal","SecretPage","withLayout","PageMeta","GET_AUTHOR","Sidebar","EditProfile","ChangePassword","AddMobileNumber","withApollo","AccountSettings","userId","data","loading","error","variables","id","query","view","message","author","imageUrl","image","url","imageLargeUrl","largeUrl","handleTabToggle","newTabState","href","as","push","shallow","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import Router, { useRouter } from 'next/router';\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid';\nimport Box from 'reusecore/src/elements/Box';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Modal } from '@redq/reuse-modal';\nimport SecretPage from '../hoc/secretPage';\nimport withLayout from '../hoc/withLayout';\nimport PageMeta from '../components/PageMeta';\n\nimport { GET_AUTHOR } from 'core/graphql/Author';\n\nimport Sidebar from '../containers/AccountSetting/Sidebar';\n\nimport EditProfile from '../containers/AccountSetting/EditProfile';\n\nimport ChangePassword from '../containers/AccountSetting/ChangePassword';\n\nimport AddMobileNumber from '../containers/AccountSetting/AddMobileNumber';\nimport { withApollo } from '../helpers/apollo';\n\nconst AccountSettings = withLayout(({ userId }) => {\n  const { data, loading, error } = useQuery(GET_AUTHOR, {\n    variables: { id: userId },\n  });\n\n  const {\n    query: { view },\n  } = useRouter();\n  if (error) return <div>{error.message}</div>;\n  const author = data && data.author ? data.author : {};\n  const imageUrl = author && author.image ? author.image.url : '';\n  const imageLargeUrl = author && author.image ? author.image.largeUrl : '';\n  const handleTabToggle = newTabState => {\n    const href = `/account-settings?view=${newTabState}`;\n    const as = `/account-settings?view=${newTabState}`;\n    Router.push(href, as, { shallow: true });\n  };\n\n  return (\n    <>\n      <PageMeta\n        title={\n          (view === 'edit-profile' && 'Edit Profile') ||\n          (view === 'change-password' && 'Change Password') ||\n          (view === 'add-mobile-number' && 'Add mobile number')\n        }\n        description=\"Account Settings\"\n      />\n      <Grid style={{ paddingTop: '80px', paddingBottom: '50px' }}>\n        <Row>\n          <Col xs={12} mdOffset={1} md={10}>\n            <Row>\n              <Col xs={12} sm={5} md={4}>\n                <Sidebar\n                  onToggleClick={handleTabToggle}\n                  image={[imageUrl, imageLargeUrl]}\n                />\n              </Col>\n              <Col xs={12} sm={7} md={8}>\n                <Box\n                  pl={[20, 95]}\n                  pr={[20, 95]}\n                  pb={32}\n                  pt={32}\n                  borderRadius=\"3px\"\n                  border=\"1px solid #e2e2e2\"\n                >\n                  {view === 'edit-profile' && (\n                    <EditProfile\n                      author={author}\n                      loading={loading}\n                      error={error}\n                    />\n                  )}\n                  {view === 'change-password' && <ChangePassword />}\n                  {view === 'add-mobile-number' && (\n                    <AddMobileNumber\n                      author={author}\n                      loading={loading}\n                      error={error}\n                    />\n                  )}\n                </Box>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Grid>\n\n      <Modal />\n    </>\n  );\n});\n\nexport default withApollo(SecretPage(AccountSettings));\n"]},"metadata":{},"sourceType":"module"}