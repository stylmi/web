{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/olaji/OneDrive/Documents/sellit/template/packages/web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"C:/Users/olaji/OneDrive/Documents/sellit/template/packages/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"C:/Users/olaji/OneDrive/Documents/sellit/template/packages/web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\olaji\\\\OneDrive\\\\Documents\\\\sellit\\\\template\\\\packages\\\\web\\\\containers\\\\SinglePost\\\\Description\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Tag, { TagGroup, LabelTag } from '../../../components/TagGroup';\nimport { openModal } from '@redq/reuse-modal';\nimport ShareModal from '../../ModalContainer/ShareModal';\nimport LoginModal from '../../ModalContainer/LoginModal';\nimport ContactInfoModal from '../../ModalContainer/ContactInfoModal';\nimport { CURRENCY } from '../../../Config';\nimport { useMutation } from '@apollo/react-hooks';\nimport { HANDLE_FAV } from '../../../../core/graphql/Mutations';\nimport AuthHelper from '../../../helpers/authHelper';\nimport AddressBox from '../../../components/AddressBox';\nimport Text from '../../../../reusecore/src/elements/Text';\nimport Icon from '../../../components/Icon';\nimport Button from '../../../../reusecore/src/elements/Button';\nimport InfoBox from '../../../components/UserInfoBox';\nimport ReadMore from '../../../components/Truncate';\nimport { ADD_POST, SINGLE_CATEGORY_PAGE } from 'core/navigation/constant';\nimport { DescriptionBlock, AlignCenterWrapper, InfoBoxWrapper, ButtonWrapper } from './description.style';\n\nvar timeFormatAMPM = function timeFormatAMPM(date) {\n  return date.toLocaleString('en-US', {\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: true\n  });\n};\n\nvar Description = function Description(_ref) {\n  _s();\n\n  var postData = _ref.postData,\n      isLoggedIn = _ref.isLoggedIn,\n      userId = _ref.userId;\n  var userFavList = [];\n  var userNewFavList = [];\n  var publishTime = '';\n\n  var _useState = useState(false),\n      btnLoading = _useState[0],\n      setBtnLoading = _useState[1];\n\n  var favouritedBy = postData && postData.favouritedBy ? postData.favouritedBy : [];\n  var contactNumber = postData && postData.contactNumber ? postData.contactNumber : '';\n  var authorImage = postData.author && postData.author.image && postData.author.image.url ? postData.author.image.url : null;\n  var authorFallbackImage = postData.author && postData.author.image && postData.author.image.largeUrl ? postData.author.image.largeUrl : null;\n\n  if (favouritedBy.includes(userId)) {\n    userFavList.push({\n      id: postData.id\n    });\n  }\n\n  var _useState2 = useState(userFavList),\n      userFav = _useState2[0],\n      setUserfav = _useState2[1];\n\n  var isFavourite = function isFavourite(id, favList) {\n    var favItem = favList.filter(function (item) {\n      return item.id === id;\n    });\n\n    if (favItem.length) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var isFav = isFavourite(postData.id, userFav);\n  var handleFavMutation = useMutation(HANDLE_FAV, {\n    variables: {\n      fav: {\n        id: userId,\n        postId: postData.id\n      }\n    }\n  });\n\n  var handleFavourite = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$handleFavMutat, data, _config;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setBtnLoading(true);\n\n              if (!isLoggedIn) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 4;\n              return AuthHelper.refreshToken();\n\n            case 4:\n              if (!isLoggedIn) {\n                _context.next = 20;\n                break;\n              }\n\n              _context.prev = 5;\n              _context.next = 8;\n              return handleFavMutation();\n\n            case 8:\n              _yield$handleFavMutat = _context.sent;\n              data = _yield$handleFavMutat.data;\n              userNewFavList = data && data.handleFav && data.handleFav.data && data.handleFav.data.length ? data.handleFav.data : [];\n\n              if (userFav.length !== userNewFavList.length) {\n                setUserfav(userNewFavList);\n              }\n\n              setBtnLoading(false);\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](5);\n              setBtnLoading(false);\n\n            case 18:\n              _context.next = 22;\n              break;\n\n            case 20:\n              setBtnLoading(false); // SHOW MODAL\n\n              openModal({\n                config: (_config = {\n                  disableDragging: false,\n                  minHeight: 'auto',\n                  width: 'auto',\n                  height: 'auto',\n                  enableResizing: false\n                }, _defineProperty(_config, \"disableDragging\", true), _defineProperty(_config, \"transition\", {\n                  tension: 150\n                }), _config),\n                springStyle: {\n                  backgroundColor: '#ffffff',\n                  overflowY: 'auto'\n                },\n                modalClass: 'customModal',\n                closeOnClickOutside: true,\n                component: LoginModal,\n                componentProps: {}\n              });\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 15]]);\n    }));\n\n    return function handleFavourite() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  if (postData && postData.createdAt && postData.createdAt.seconds) {\n    var timeCalculation = new Date(postData.createdAt.seconds * 1000);\n    publishTime = timeFormatAMPM(timeCalculation);\n  } else if (postData && postData.createdAt && postData.createdAt._seconds) {\n    var _timeCalculation = new Date(postData.createdAt._seconds * 1000);\n\n    publishTime = timeFormatAMPM(_timeCalculation);\n  }\n\n  var adsCategory = function adsCategory(category, index) {\n    return /*#__PURE__*/_jsxDEV(Link, {\n      href: {\n        pathname: \"\".concat(SINGLE_CATEGORY_PAGE, \"/\").concat(category.slug),\n        state: {\n          termId: category.id\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        children: /*#__PURE__*/_jsxDEV(Tag, {\n          tagContent: category.name,\n          style: {\n            marginRight: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, _this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      content: postData.title,\n      as: \"span\",\n      fontSize: 18,\n      fontWeight: 600,\n      color: \"#333333\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(TagGroup, {\n      marginBottom: \"25px\",\n      style: {\n        marginTop: 25,\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(LabelTag, {\n        tagContent: \"\".concat(CURRENCY, \" \").concat(postData.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, _this), postData.isNegotiable && /*#__PURE__*/_jsxDEV(Text, {\n        content: \"Negotiable\",\n        as: \"span\",\n        fontSize: 14,\n        fontWeight: 400,\n        color: \"#595959\",\n        mb: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, _this), postData && postData.distance ? /*#__PURE__*/_jsxDEV(AddressBox, {\n      distance: postData.distance ? \"Approximately \".concat(Math.floor(postData.distance), \" km away\") : '',\n      location: postData.formattedLocation ? postData.formattedLocation.formattedAddress : '',\n      style: {\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, _this) // <p>Please Enable your location to get distance</p>\n    , /*#__PURE__*/_jsxDEV(Button, {\n      iconPosition: \"left\",\n      title: \"Show Contact\",\n      bg: \"#30C56D\",\n      style: {\n        marginBottom: 38,\n        width: '100%'\n      },\n      icon: /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"ios-call\",\n        fontSize: 19,\n        color: \"#fff\",\n        mr: 10\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }, _this),\n      onClick: function onClick() {\n        var _config2;\n\n        return openModal({\n          config: (_config2 = {\n            disableDragging: false,\n            className: 'contactModal',\n            width: 'auto',\n            height: 'auto',\n            enableResizing: false\n          }, _defineProperty(_config2, \"disableDragging\", true), _defineProperty(_config2, \"transition\", {\n            tension: 150\n          }), _config2),\n          closeOnClickOutside: true,\n          component: ContactInfoModal,\n          componentProps: {\n            data: {\n              contactNumber: contactNumber\n            }\n          }\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(InfoBoxWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(InfoBox, {\n        imgWidth: \"45px\",\n        imgHeight: \"45px\",\n        imgRadius: 30,\n        source: [authorImage, authorFallbackImage],\n        title: postData && postData.author && postData.author.name ? postData.author.name : '',\n        author: postData.authorId,\n        postedTime: publishTime !== '' ? \"Ad posted at \".concat(publishTime) : '',\n        style: {\n          flexGrow: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        style: {\n          flexGrow: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          icon: /*#__PURE__*/_jsxDEV(Icon, {\n            name: \"ios-share-alt\",\n            fontSize: 18,\n            color: \"#8C8C8C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 19\n          }, _this),\n          height: 40,\n          width: 40,\n          className: \"outlineButton\",\n          style: {\n            marginRight: 10,\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: '#e2e2e2',\n            minHeight: 'auto',\n            minWidth: 'auto'\n          },\n          onClick: function onClick() {\n            var _config3;\n\n            return openModal({\n              config: (_config3 = {\n                disableDragging: false,\n                className: 'shareModal',\n                width: 'auto',\n                height: 'auto',\n                enableResizing: false\n              }, _defineProperty(_config3, \"disableDragging\", true), _defineProperty(_config3, \"transition\", {\n                tension: 150\n              }), _config3),\n              withRnd: false,\n              closeOnClickOutside: true,\n              component: ShareModal,\n              componentProps: {\n                data: {\n                  author: postData.author.name,\n                  link: true ? window.location.href : null,\n                  title: postData.title\n                }\n              }\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          className: \"outlineButton\",\n          isLoading: btnLoading,\n          icon: /*#__PURE__*/_jsxDEV(Icon, {\n            name: \"ios-heart\",\n            fontSize: 18,\n            color: isFav ? '#30C56D' : '#8C8C8C'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, _this),\n          height: 40,\n          width: 40,\n          style: {\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderColor: isFav ? '#30C56D' : '#e2e2e2',\n            minHeight: 'auto',\n            minWidth: 'auto',\n            padding: 0\n          },\n          onClick: handleFavourite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Text, {\n      content: \"Description\",\n      fontSize: 16,\n      fontFamily: \"Poppins\",\n      fontWeight: 600,\n      color: \"#333333\",\n      mb: 15,\n      style: {\n        display: 'inline-block'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, _this), postData && /*#__PURE__*/_jsxDEV(Tag, {\n      bgColor: postData.condition ? '#00b6ff' : '#30C56D',\n      tagContent: postData.condition ? 'New' : 'Used',\n      size: \"14px\",\n      tagColor: \"#ffffff\",\n      style: {\n        marginLeft: 15,\n        fontWeight: 700\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(AlignCenterWrapper, {\n      style: {\n        marginBottom: 15\n      },\n      children: /*#__PURE__*/_jsxDEV(DescriptionBlock, {\n        children: /*#__PURE__*/_jsxDEV(ReadMore, {\n          character: 150,\n          children: postData.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(AlignCenterWrapper, {\n      style: {\n        marginTop: 25,\n        marginBottom: 25\n      },\n      children: postData.categories && postData.categories.length ? postData.categories.map(adsCategory) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, _this), isLoggedIn && postData.authorId && userId === postData.authorId ? /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Edit\",\n      variant: \"textButton\",\n      style: {\n        minHeight: 'auto',\n        minWidth: 'auto'\n      },\n      onClick: function onClick() {\n        return Router.push(\"\".concat(ADD_POST, \"/\").concat(postData.id));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, _this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Description, \"krklw2GTeghKui+2mmyceEi8ecs=\", false, function () {\n  return [useMutation];\n});\n\n_c = Description;\nexport default Description;\n\nvar _c;\n\n$RefreshReg$(_c, \"Description\");","map":{"version":3,"sources":["C:/Users/olaji/OneDrive/Documents/sellit/template/packages/web/containers/SinglePost/Description/index.js"],"names":["React","Fragment","useState","Link","Router","Tag","TagGroup","LabelTag","openModal","ShareModal","LoginModal","ContactInfoModal","CURRENCY","useMutation","HANDLE_FAV","AuthHelper","AddressBox","Text","Icon","Button","InfoBox","ReadMore","ADD_POST","SINGLE_CATEGORY_PAGE","DescriptionBlock","AlignCenterWrapper","InfoBoxWrapper","ButtonWrapper","timeFormatAMPM","date","toLocaleString","hour","minute","hour12","Description","postData","isLoggedIn","userId","userFavList","userNewFavList","publishTime","btnLoading","setBtnLoading","favouritedBy","contactNumber","authorImage","author","image","url","authorFallbackImage","largeUrl","includes","push","id","userFav","setUserfav","isFavourite","favList","favItem","filter","item","length","isFav","handleFavMutation","variables","fav","postId","handleFavourite","refreshToken","data","handleFav","config","disableDragging","minHeight","width","height","enableResizing","tension","springStyle","backgroundColor","overflowY","modalClass","closeOnClickOutside","component","componentProps","createdAt","seconds","timeCalculation","Date","_seconds","adsCategory","category","index","pathname","slug","state","termId","name","marginRight","title","marginTop","price","isNegotiable","distance","Math","floor","formattedLocation","formattedAddress","marginBottom","className","authorId","flexGrow","borderWidth","borderStyle","borderColor","minWidth","withRnd","link","window","location","href","padding","display","condition","marginLeft","fontWeight","content","categories","map"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport Router from 'next/router';\r\nimport Tag, { TagGroup, LabelTag } from '../../../components/TagGroup';\r\nimport { openModal } from '@redq/reuse-modal';\r\nimport ShareModal from '../../ModalContainer/ShareModal';\r\nimport LoginModal from '../../ModalContainer/LoginModal';\r\nimport ContactInfoModal from '../../ModalContainer/ContactInfoModal';\r\nimport { CURRENCY } from '../../../Config';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { HANDLE_FAV } from '../../../../core/graphql/Mutations';\r\nimport AuthHelper from '../../../helpers/authHelper';\r\nimport AddressBox from '../../../components/AddressBox';\r\nimport Text from '../../../../reusecore/src/elements/Text';\r\nimport Icon from '../../../components/Icon';\r\nimport Button from '../../../../reusecore/src/elements/Button';\r\nimport InfoBox from '../../../components/UserInfoBox';\r\nimport ReadMore from '../../../components/Truncate';\r\n\r\nimport { ADD_POST, SINGLE_CATEGORY_PAGE } from 'core/navigation/constant';\r\n\r\nimport {\r\n  DescriptionBlock,\r\n  AlignCenterWrapper,\r\n  InfoBoxWrapper,\r\n  ButtonWrapper,\r\n} from './description.style';\r\n\r\nconst timeFormatAMPM = date => {\r\n  return date.toLocaleString('en-US', {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: true,\r\n  });\r\n};\r\nconst Description = ({ postData, isLoggedIn, userId }) => {\r\n  let userFavList = [];\r\n  let userNewFavList = [];\r\n  let publishTime = '';\r\n  const [btnLoading, setBtnLoading] = useState(false);\r\n  const favouritedBy =\r\n    postData && postData.favouritedBy ? postData.favouritedBy : [];\r\n  const contactNumber =\r\n    postData && postData.contactNumber ? postData.contactNumber : '';\r\n  const authorImage =\r\n    postData.author && postData.author.image && postData.author.image.url\r\n      ? postData.author.image.url\r\n      : null;\r\n  const authorFallbackImage =\r\n    postData.author && postData.author.image && postData.author.image.largeUrl\r\n      ? postData.author.image.largeUrl\r\n      : null;\r\n\r\n  if (favouritedBy.includes(userId)) {\r\n    userFavList.push({ id: postData.id });\r\n  }\r\n  const [userFav, setUserfav] = useState(userFavList);\r\n  const isFavourite = (id, favList) => {\r\n    const favItem = favList.filter(item => item.id === id);\r\n    if (favItem.length) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const isFav = isFavourite(postData.id, userFav);\r\n\r\n  const handleFavMutation = useMutation(HANDLE_FAV, {\r\n    variables: {\r\n      fav: {\r\n        id: userId,\r\n        postId: postData.id,\r\n      },\r\n    },\r\n  });\r\n  const handleFavourite = async () => {\r\n    setBtnLoading(true);\r\n    if (isLoggedIn) {\r\n      await AuthHelper.refreshToken();\r\n    }\r\n    if (isLoggedIn) {\r\n      try {\r\n        const { data } = await handleFavMutation();\r\n        userNewFavList =\r\n          data &&\r\n          data.handleFav &&\r\n          data.handleFav.data &&\r\n          data.handleFav.data.length\r\n            ? data.handleFav.data\r\n            : [];\r\n        if (userFav.length !== userNewFavList.length) {\r\n          setUserfav(userNewFavList);\r\n        }\r\n        setBtnLoading(false);\r\n      } catch (error) {\r\n        setBtnLoading(false);\r\n      }\r\n    } else {\r\n      setBtnLoading(false);\r\n      // SHOW MODAL\r\n      openModal({\r\n        config: {\r\n          disableDragging: false,\r\n          minHeight: 'auto',\r\n          width: 'auto',\r\n          height: 'auto',\r\n          enableResizing: false,\r\n          disableDragging: true,\r\n          transition: {\r\n            tension: 150,\r\n          },\r\n        },\r\n        springStyle: {\r\n          backgroundColor: '#ffffff',\r\n          overflowY: 'auto',\r\n        },\r\n        modalClass: 'customModal',\r\n        closeOnClickOutside: true,\r\n        component: LoginModal,\r\n        componentProps: {},\r\n      });\r\n    }\r\n  };\r\n  if (postData && postData.createdAt && postData.createdAt.seconds) {\r\n    const timeCalculation = new Date(postData.createdAt.seconds * 1000);\r\n    publishTime = timeFormatAMPM(timeCalculation);\r\n  } else if (postData && postData.createdAt && postData.createdAt._seconds) {\r\n    const timeCalculation = new Date(postData.createdAt._seconds * 1000);\r\n    publishTime = timeFormatAMPM(timeCalculation);\r\n  }\r\n  const adsCategory = (category, index) => {\r\n    return (\r\n      <Link\r\n        key={index}\r\n        href={{\r\n          pathname: `${SINGLE_CATEGORY_PAGE}/${category.slug}`,\r\n          state: {\r\n            termId: category.id,\r\n          },\r\n        }}\r\n      >\r\n        <a>\r\n          <Tag tagContent={category.name} style={{ marginRight: 10 }} />\r\n        </a>\r\n      </Link>\r\n    );\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Text\r\n        content={postData.title}\r\n        as=\"span\"\r\n        fontSize={18}\r\n        fontWeight={600}\r\n        color=\"#333333\"\r\n      />\r\n      <TagGroup marginBottom=\"25px\" style={{ marginTop: 25, width: '100%' }}>\r\n        <LabelTag tagContent={`${CURRENCY} ${postData.price}`} />\r\n        {postData.isNegotiable && (\r\n          <Text\r\n            content=\"Negotiable\"\r\n            as=\"span\"\r\n            fontSize={14}\r\n            fontWeight={400}\r\n            color=\"#595959\"\r\n            mb={0}\r\n          />\r\n        )}\r\n      </TagGroup>\r\n      {postData && postData.distance ? (\r\n        <AddressBox\r\n          distance={\r\n            postData.distance\r\n              ? `Approximately ${Math.floor(postData.distance)} km away`\r\n              : ''\r\n          }\r\n          location={\r\n            postData.formattedLocation\r\n              ? postData.formattedLocation.formattedAddress\r\n              : ''\r\n          }\r\n          style={{ marginBottom: '20px' }}\r\n        />\r\n      ) : (\r\n        <p />\r\n        // <p>Please Enable your location to get distance</p>\r\n      )}\r\n\r\n      <Button\r\n        iconPosition=\"left\"\r\n        title=\"Show Contact\"\r\n        bg=\"#30C56D\"\r\n        style={{ marginBottom: 38, width: '100%' }}\r\n        icon={<Icon name=\"ios-call\" fontSize={19} color=\"#fff\" mr={10} />}\r\n        onClick={() =>\r\n          openModal({\r\n            config: {\r\n              disableDragging: false,\r\n              className: 'contactModal',\r\n              width: 'auto',\r\n              height: 'auto',\r\n              enableResizing: false,\r\n              disableDragging: true,\r\n              transition: {\r\n                tension: 150,\r\n              },\r\n            },\r\n            closeOnClickOutside: true,\r\n            component: ContactInfoModal,\r\n            componentProps: {\r\n              data: {\r\n                contactNumber: contactNumber,\r\n              },\r\n            },\r\n          })\r\n        }\r\n      />\r\n      <InfoBoxWrapper>\r\n        <InfoBox\r\n          imgWidth=\"45px\"\r\n          imgHeight=\"45px\"\r\n          imgRadius={30}\r\n          source={[authorImage, authorFallbackImage]}\r\n          title={\r\n            postData && postData.author && postData.author.name\r\n              ? postData.author.name\r\n              : ''\r\n          }\r\n          author={postData.authorId}\r\n          postedTime={publishTime !== '' ? `Ad posted at ${publishTime}` : ''}\r\n          style={{\r\n            flexGrow: 1,\r\n          }}\r\n        />\r\n\r\n        <ButtonWrapper style={{ flexGrow: 0 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            icon={<Icon name=\"ios-share-alt\" fontSize={18} color=\"#8C8C8C\" />}\r\n            height={40}\r\n            width={40}\r\n            className=\"outlineButton\"\r\n            style={{\r\n              marginRight: 10,\r\n              borderWidth: '1px',\r\n              borderStyle: 'solid',\r\n              borderColor: '#e2e2e2',\r\n              minHeight: 'auto',\r\n              minWidth: 'auto',\r\n            }}\r\n            onClick={() =>\r\n              openModal({\r\n                config: {\r\n                  disableDragging: false,\r\n                  className: 'shareModal',\r\n                  width: 'auto',\r\n                  height: 'auto',\r\n                  enableResizing: false,\r\n                  disableDragging: true,\r\n                  transition: {\r\n                    tension: 150,\r\n                  },\r\n                },\r\n                withRnd: false,\r\n                closeOnClickOutside: true,\r\n                component: ShareModal,\r\n                componentProps: {\r\n                  data: {\r\n                    author: postData.author.name,\r\n                    link: process.browser ? window.location.href : null,\r\n                    title: postData.title,\r\n                  },\r\n                },\r\n              })\r\n            }\r\n          />\r\n\r\n          <Button\r\n            variant=\"outlined\"\r\n            className=\"outlineButton\"\r\n            isLoading={btnLoading}\r\n            icon={\r\n              <Icon\r\n                name=\"ios-heart\"\r\n                fontSize={18}\r\n                color={isFav ? '#30C56D' : '#8C8C8C'}\r\n              />\r\n            }\r\n            height={40}\r\n            width={40}\r\n            style={{\r\n              borderWidth: '1px',\r\n              borderStyle: 'solid',\r\n              borderColor: isFav ? '#30C56D' : '#e2e2e2',\r\n              minHeight: 'auto',\r\n              minWidth: 'auto',\r\n              padding: 0,\r\n            }}\r\n            onClick={handleFavourite}\r\n          />\r\n        </ButtonWrapper>\r\n      </InfoBoxWrapper>\r\n      <Text\r\n        content=\"Description\"\r\n        fontSize={16}\r\n        fontFamily=\"Poppins\"\r\n        fontWeight={600}\r\n        color=\"#333333\"\r\n        mb={15}\r\n        style={{ display: 'inline-block' }}\r\n      />\r\n      {postData && (\r\n        <Tag\r\n          bgColor={postData.condition ? '#00b6ff' : '#30C56D'}\r\n          tagContent={postData.condition ? 'New' : 'Used'}\r\n          size=\"14px\"\r\n          tagColor=\"#ffffff\"\r\n          style={{\r\n            marginLeft: 15,\r\n            fontWeight: 700,\r\n          }}\r\n        />\r\n      )}\r\n      <AlignCenterWrapper style={{ marginBottom: 15 }}>\r\n        <DescriptionBlock>\r\n          <ReadMore character={150}>{postData.content}</ReadMore>\r\n        </DescriptionBlock>\r\n      </AlignCenterWrapper>\r\n      <AlignCenterWrapper style={{ marginTop: 25, marginBottom: 25 }}>\r\n        {postData.categories && postData.categories.length\r\n          ? postData.categories.map(adsCategory)\r\n          : null}\r\n      </AlignCenterWrapper>\r\n\r\n      {isLoggedIn && postData.authorId && userId === postData.authorId ? (\r\n        <Button\r\n          title=\"Edit\"\r\n          variant=\"textButton\"\r\n          style={{\r\n            minHeight: 'auto',\r\n            minWidth: 'auto',\r\n          }}\r\n          onClick={() => Router.push(`${ADD_POST}/${postData.id}`)}\r\n        />\r\n      ) : null}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Description;\r\n"]},"metadata":{},"sourceType":"module"}